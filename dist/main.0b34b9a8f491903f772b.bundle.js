webpackJsonp([1],{"/0a3":function(t,e){t.exports=""},"/QAl":function(t,e){t.exports='\n<mat-dialog-content>\n\n\t<div *ngIf="msg!=\'\'; else qrC">\n\t    {{msg}}\n\t</div>\n\n\t<ng-template #qrC>\n\t\t<a href="#" onclick="prepHref(this)" download>\n\t\t\t<qrcode id="qrContainer" class="btn btn-dark center" \n\t\t\t[qrdata]="qrCodeData" \n\t\t\t[size]="512"\n\t\t\t[level]="\'H\'"></qrcode>\n\t\t</a>\n\t</ng-template>\n\n</mat-dialog-content>\n\n<mat-dialog-actions align="end">\n\t<a href="#" *ngIf="qrCodeData!=\'\';" onclick="prepHref(this)" download><button matDialogClose="confirm" mat-button color="primary">T\xe9l\xe9charger</button></a>\n\t<button mat-button matDialogClose="confirm" color="warn">Fermer</button>\n</mat-dialog-actions>\n\n\n\n'},0:function(t,e,n){t.exports=n("x35b")},"5xMp":function(t,e){t.exports='<app-todo-list [data]="getCurrentTodoList()"\r\n\t\t\t\t(keydown.control.z)="undo()"\r\n\t\t\t\t(keydown.control.y)="redo()">\t\r\n</app-todo-list>'},Jnfr:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="Jnfr"},okgc:function(t,e){t.exports=""},wHzs:function(t,e){t.exports='<div class="view">\r\n  <input  class \t= "toggle"\r\n          type\t\t= "checkbox"\r\n          name\t\t= "fait"\r\n          [ngModel] = "getIsDone()"\r\n          (ngModelChange) = "setIsDone($event)"\r\n  />\r\n  <label  class="texte"\r\n  \t\t  (dblclick) = "setIsEditing(true)"\r\n  \t\t>{{getLabel()}}</label>\r\n  <button class="destroy"\r\n  \t(click) = "remove()">\r\n  </button>\r\n</div>\r\n\r\n<form  (submit) = "editItem(newTextInput.value)">\r\n\r\n  <input style="width: calc(100% - 42px);" #newTextInput\r\n          name    \t\t= "newTextInput"\r\n          class   \t\t= "edit"\r\n          [ngModel] \t= "getLabel()"\r\n  \t\t    (blur) \t\t  = "editItem(newTextInput.value)"\r\n          />\r\n</form>\r\n'},wliv:function(t,e){t.exports='<nav class="navbar navbar-expand-lg navbar-dark bg-dark">\r\n  <a class="navbar-brand" href="#">\r\n    <b>Todo List</b>\r\n  </a>\r\n  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">\r\n    <span class="navbar-toggler-icon"></span>\r\n  </button>\r\n  <div class="collapse navbar-collapse" id="navbarNav">\r\n    <ul class="navbar-nav">\r\n      <li class="nav-item">\r\n        <span class="nav-link todo-count text-warning"> {{nbItemunchecked()}} {{getLabelLeft()}} </span>\r\n      </li>\r\n      <li class="divider"></li>\r\n      <li class="nav-item">\r\n        <span class="nav-link text-info">Filtrer par :</span>\r\n      </li>\r\n      <li class="nav-item">\r\n        <a class="nav-link filterAll"\r\n        (click) = "currentFilter = filterAll;"\r\n        [class.active] = "currentFilter === filterAll"\r\n        >Tous</a>\r\n      </li>\r\n      <li class="nav-item">\r\n        <a class="nav-link filterActives"\r\n        (click) = "currentFilter = filterUndone;"\r\n        [class.active] = "currentFilter === filterUndone"\r\n        >Actifs</a>\r\n      </li>\r\n      <li class="nav-item">\r\n        <a class="nav-link filterCompleted"\r\n        (click) = "currentFilter = filterDone;"\r\n        [class.active] = "currentFilter === filterDone"\r\n        >Compl\xe9t\xe9s</a>\r\n      </li>\r\n      <li class="nav-item">\r\n        <a class="nav-link  clear-completed text-danger"\r\n        [hidden] = "nbItemChecked() === 0"\r\n        (click) = "removeDoneItems()"\r\n        >Supprimer coch\xe9es</a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</nav>\r\n\r\n\r\n<button type="button" \r\n(click) = "undo()"\r\nclass="btn btn-warning">&#8630; Undo</button>\r\n\r\n\r\n\r\n<button type="button" \r\n(click) = "redo()"\r\nclass="btn btn-info float-right">&#8631; Redo</button>\r\n\r\n\r\n<section class="todoapp">\r\n  <header class="header">\r\n\r\n    <form (submit)="appendItem(newTodoInput.value); newTodoInput.value=\'\'">\r\n      <input class="form-control" #newTodoInput\r\n      name        = "newTodoInput"\r\n      class       = "new-todo"\r\n      placeholder = "Que faire?"\r\n      autofocus />\r\n    </form>\r\n  </header>\r\n\r\n  <section class="main">\r\n    <input  class="toggle-all"\r\n            type="checkbox"\r\n            name="toggleAll"\r\n            [ngModel]="isAllDone()"\r\n            [hidden] = "isEmpty()"\r\n            (ngModelChange)="changeToggleAll()"\r\n    />\r\n\r\n    <ul class="todo-list">\r\n      <li *ngFor="let item of getFilteredItems()"\r\n          [class.editing] = "compoItem.isEditing"\r\n          [class.completed] = "compoItem.getIsDone()"\r\n      >\r\n      <app-todo-item #compoItem [data]="item">\r\n      </app-todo-item>\r\n    </li>\r\n  </ul>\r\n\r\n</section>\r\n</section>\r\n\r\n<input type="file" id="input-file"  accept="image/*" \r\n      [(ngModel)]="file_text"\r\n      [hidden] = "true"\r\n      (change)="onFileChange($event)"/>\r\n<button type="button" \r\n        class="btn btn-danger float-right" \r\n        onclick="document.querySelector(\'#input-file\').click()">Import QrCode\r\n          \x3c!-- <i class="fa fa-upload" aria-hidden="true"></i> <i class="fa fa-qrcode" aria-hidden="true"></i> --\x3e</button>\r\n\r\n<button type="button" \r\n        (click) = "openQrDialog()"\r\n        class="btn btn-success float-right" >Export QrCode   \r\n        \x3c!-- <fa name="download" animation="pull"></fa><fa name="qrcode" animation="spin"></fa> --\x3e</button>\r\n\r\n'},wmX6:function(t,e){t.exports=""},x35b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("WT6e"),i=n("4PVY"),r=n("OE0E"),s=n("4zOZ"),a=n("DUFE"),c=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},u=function(){function t(t,e){this.dialogRef=t,this.data=e}return t.prototype.ngOnInit=function(){var t=this;this.qrCodeData="",this.msg=this.data.msg,"undefined"!=typeof this.data.items&&this.data.items.forEach(function(e){t.qrCodeData+=e.label.toString()+":"+(e.isDone?"T":"F")+"|"}),this.qrCodeData=this.qrCodeData.substring(0,this.qrCodeData.length-1)},t.prototype.confirmSelection=function(){this.dialogRef.close()},t=c([Object(o.m)({selector:"app-dialog-qr",template:n("/QAl"),styles:[n("zRwk")]}),d(1,Object(o.z)(a.a)),l("design:paramtypes",[a.f,Object])],t)}(),f=this&&this.__assign||Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},p=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},m=function(){function t(t){this.dialog=t,this.todoListSubject=new s.a({label:"TodoList",items:[]}),this.undoRedo=[[]],this.indexUndoRedo=0,this.todoListSubject.value.items=this.getItemsLocalStorage(),this.undoRedo[0]=this.todoListSubject.value.items}return t.prototype.getTodoListDataObserver=function(){return this.todoListSubject.asObservable()},t.prototype.setItemsLabel=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=this.todoListSubject.getValue();this.todoListSubject.next({label:o.label,items:o.items.map(function(n){return-1===e.indexOf(n)?n:{label:t,isDone:n.isDone}})}),this.setItemsLocalStorage(this.todoListSubject.value.items),this.addUndoRedoAction(this.todoListSubject.value.items)},t.prototype.setItemsDone=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var i=this.todoListSubject.getValue();this.todoListSubject.next({label:i.label,items:i.items.map(function(e){return-1===n.indexOf(e)?e:{label:e.label,isDone:t}})}),e&&(this.setItemsLocalStorage(this.todoListSubject.value.items),this.addUndoRedoAction(this.todoListSubject.value.items))},t.prototype.appendItems=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.todoListSubject.getValue();this.todoListSubject.next(f({},n,{items:n.items.concat(t)})),this.setItemsLocalStorage(this.todoListSubject.value.items),this.addUndoRedoAction(this.todoListSubject.value.items)},t.prototype.removeItems=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=this.todoListSubject.getValue();this.todoListSubject.next(f({},o,{items:o.items.filter(function(t){return-1===e.indexOf(t)})})),t&&(this.setItemsLocalStorage(this.todoListSubject.value.items),this.addUndoRedoAction(this.todoListSubject.value.items))},t.prototype.setItemsLocalStorage=function(t){localStorage.setItem("items",JSON.stringify({items:t}))},t.prototype.getItemsLocalStorage=function(){var t=JSON.parse(localStorage.getItem("items"));return null==t?[]:t.items},t.prototype.addUndoRedoAction=function(t){if("undefined"!=typeof t){if(this.indexUndoRedo+1<this.undoRedo.length){for(var e=[[]],n=0;n<=this.indexUndoRedo;n++)e[n]=this.undoRedo[n];this.undoRedo=e}this.undoRedo.push(this.todoListSubject.value.items),this.indexUndoRedo++}},t.prototype.undoAction=function(){console.log("Ctrl-Z "+this.indexUndoRedo),this.indexUndoRedo>0&&(this.indexUndoRedo--,this.todoListSubject.value.items=this.undoRedo[this.indexUndoRedo],this.setItemsLocalStorage(this.todoListSubject.value.items))},t.prototype.redoAction=function(){console.log("Ctrl-Y "+this.indexUndoRedo),this.undoRedo.length>this.indexUndoRedo+1&&(this.indexUndoRedo++,this.todoListSubject.value.items=this.undoRedo[this.indexUndoRedo],this.setItemsLocalStorage(this.todoListSubject.value.items))},t.prototype.loadDataItems=function(t){var e=[];if(t.indexOf("|")>=0)t.split("|").forEach(function(t){var n={label:t.split(":")[0],isDone:"T"==t.split(":")[1]};e.push(n)}),this.todoListSubject.value.items=e,this.setItemsLocalStorage(this.todoListSubject.value.items),this.addUndoRedoAction(this.todoListSubject.value.items);else this.dialog.open(u,{data:{msg:"Erreur QrCode"}})},t=p([Object(o.A)(),h("design:paramtypes",[a.d])],t)}(),g=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},b=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},v=function(){function t(t){var e=this;this.todoService=t,t.getTodoListDataObserver().subscribe(function(t){return e.td1=t})}return t.prototype.documentClick=function(t){(t.ctrlKey||t.metaKey)&&89==t.keyCode&&t.preventDefault()},t.prototype.getCurrentTodoList=function(){return this.td1},t.prototype.undo=function(){this.todoService.undoAction()},t.prototype.redo=function(){this.todoService.redoAction()},g([Object(o.y)("document:keydown",["$event"]),b("design:type",Function),b("design:paramtypes",[KeyboardEvent]),b("design:returntype",void 0)],t.prototype,"documentClick",null),t=g([Object(o.m)({selector:"app-root",template:n("5xMp"),styles:[n("okgc")],changeDetection:o.i.OnPush}),b("design:paramtypes",[m])],t)}(),y=n("YaPU"),I=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},j=function(){function t(){}return t.prototype.decode=function(t){return new y.a(function(e){var n=new FileReader;n.readAsDataURL(t),n.onload=function(t){var n=t.target.result;qrcode.callback=function(t){e.next(t),e.complete()},qrcode.decode(n)}})},t=I([Object(o.A)()],t)}(),R=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},D=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},O=function(){function t(t,e,n,o){this.todoService=t,this.dialog=e,this.qrReader=n,this.chRef=o,this.filterAll=function(){return!0},this.filterDone=function(t){return t.isDone},this.filterUndone=function(t){return!t.isDone},this.currentFilter=this.filterAll}return t.prototype.ngOnInit=function(){},t.prototype.getLabel=function(){return this.data?this.data.label:""},t.prototype.getItems=function(){return this.data?this.data.items:[]},t.prototype.appendItem=function(t){t&&this.todoService.appendItems({label:t,isDone:!1})},t.prototype.removeItem=function(t,e){this.todoService.removeItems(e,t)},t.prototype.setItemDone=function(t,e){this.todoService.setItemsDone(e,!0,t)},t.prototype.isAllDone=function(){return this.getItems().reduce(function(t,e){return t&&e.isDone},!0)},t.prototype.changeToggleAll=function(){for(var t=!this.isAllDone(),e=!1,n=0;n<this.data.items.length;n++)n===this.data.items.length-1&&(e=!0),this.todoService.setItemsDone(t,e,this.data.items[n])},t.prototype.nbItemunchecked=function(){return this.data.items.reduce(function(t,e){return t+(e.isDone?0:1)},0)},t.prototype.nbItemChecked=function(){return this.data.items.reduce(function(t,e){return t+(e.isDone?1:0)},0)},t.prototype.getFilteredItems=function(){return this.getItems().filter(this.currentFilter)},t.prototype.removeDoneItems=function(){for(var t=!1,e=0;e<this.getItems().filter(this.filterDone).length;e++)e===this.getItems().filter(this.filterDone).length-1&&(t=!0),this.removeItem(this.getItems().filter(this.filterDone)[e],t)},t.prototype.isEmpty=function(){return 0===this.getItems().length},t.prototype.getLabelLeft=function(){return this.nbItemunchecked()>1?"t\xe2ches restantes":"t\xe2che restante"},t.prototype.undo=function(){this.todoService.undoAction()},t.prototype.redo=function(){this.todoService.redoAction()},t.prototype.openQrDialog=function(){console.log(this.getItems());this.dialog.open(u,{data:{items:this.getItems(),msg:this.isEmpty()?"Votre liste est vide":""}})},t.prototype.onFileChange=function(t){var e=this,n=t.target.files[0];this.subscription=this.qrReader.decode(n).subscribe(function(t){return e.readQrCode(t)}),this.file_text=""},t.prototype.readQrCode=function(t){this.todoService.loadDataItems(t),this.chRef.detectChanges()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},R([Object(o.D)(),D("design:type",Object)],t.prototype,"data",void 0),t=R([Object(o.m)({selector:"app-todo-list",template:n("wliv"),styles:[n("/0a3")],changeDetection:o.i.OnPush}),D("design:paramtypes",[m,a.d,j,o.j])],t)}(),S=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},x=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},L=function(){function t(t){this.todoService=t,this.isEditing=!1}return t.prototype.ngOnInit=function(){},t.prototype.getLabel=function(){return this.data.label},t.prototype.setLabel=function(t){this.todoService.setItemsLabel(t,this.data)},t.prototype.getIsDone=function(){return this.data.isDone},t.prototype.setIsDone=function(t){this.todoService.setItemsDone(t,!0,this.data)},t.prototype.remove=function(){this.todoService.removeItems(!0,this.data)},t.prototype.getIsEditing=function(){return this.isEditing},t.prototype.setIsEditing=function(t){var e=this;this.isEditing=t,t&&requestAnimationFrame(function(){return e.newTextInput.nativeElement.focus()})},t.prototype.editItem=function(t){this.setLabel(t),this.isEditing=!1},S([Object(o.D)(),x("design:type",Object)],t.prototype,"data",void 0),S([Object(o._7)("newTextInput"),x("design:type",o.t)],t.prototype,"newTextInput",void 0),t=S([Object(o.m)({selector:"app-todo-item",template:n("wHzs"),styles:[n("wmX6")],changeDetection:o.i.OnPush}),x("design:paramtypes",[m])],t)}(),w=n("ekMa"),k=!0,C=n("WnNO"),_=n("Bj4q"),A=n("ms4i"),U=n("7DMc"),T=n("NOoU"),q=n("ItHS"),P=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},E=(function(){function t(){}t=P([Object(o.I)({exports:[a.b,a.e]})],t)}(),function(){function t(){}return t=P([Object(o.I)({imports:[U.c,C.a,r.a,_.a,a.c,a.b,a.e,a.g,T.a,q.b,U.h,A.a,k?w.a.register("ngsw-worker.js"):[]],entryComponents:[u],declarations:[v,O,L,u],providers:[m,j],bootstrap:[v]})],t)}());k&&Object(o._13)(),Object(i.a)().bootstrapModule(E).catch(function(t){return console.log(t)})},zRwk:function(t,e){t.exports=""}},[0]);